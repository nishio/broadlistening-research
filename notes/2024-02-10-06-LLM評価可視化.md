# LLM評価スコアの可視化計画

## 1. 可視化の目的と概要
- クラスタラベルの質を定量的に評価し、分布として把握
- HDBSCANとk-meansの評価結果を分布レベルで比較
- 評価基準の妥当性を分布の特徴から検証
- 評価スコアの傾向と偏りを視覚的に理解

## 2. 評価スコアの構成と可視化方針

### 2.1 評価基準
- 総合評価（100点満点）を以下の4項目で構成
  * 一貫性（30点）：クラスタ内の意見とラベル・説明の整合性
  * 具体性（25点）：ラベルと説明の明確さ、具体的な表現
  * 網羅性（25点）：クラスタ内の主要な意見や論点のカバー状況
  * キーワード（20点）：抽出されたキーワードの適切性と代表性

### 2.2 可視化の方針
1. 総合評価スコアの分布
   - 両手法の評価スコア分布をヒストグラムで表示
   - 層状の重ね合わせによる直接比較
   - 分布の特徴（中央値、分散、歪度）を視覚的に把握

2. 評価項目別の分布
   - 4つの評価項目を2×2のサブプロットで表示
   - 各項目におけるHDBSCANとk-meansの特性を比較
   - 項目間の相対的な強みと弱みを可視化

## 3. 実装の詳細

### 3.1 データ処理の実装
- 評価結果のJSONファイルを読み込み、整形
  * クラスタIDと評価スコアの対応付け
  * 評価項目ごとのデータ分離
  * 手法別のデータセット作成

### 3.2 可視化機能の実装
- seabornライブラリによる分布の可視化
  * ヒストグラムの基本設定
    - ビン数：10（分布の特徴を把握しやすい粒度）
    - 色分け：HDBSCANとk-meansの区別
    - 重ね合わせ：層状表示による直接比較
  * サブプロット機能
    - 2×2のグリッドレイアウト
    - 評価項目ごとの分布表示
    - 適切なタイトルとラベル設定

## 4. 期待される分析結果

### 4.1 クラスタリング手法の特性
- HDBSCANの評価傾向
  * 高密度クラスタによる一貫性への影響
  * 小規模クラスタの評価特性
- k-meansの評価傾向
  * 大規模クラスタの網羅性評価
  * クラスタサイズと評価の関係

### 4.2 評価基準の検証
- 評価項目間の関係性
  * 項目別スコアの分布特性
  * 評価基準の重み付けの妥当性
- 改善の方向性
  * 評価基準の調整ポイント
  * プロンプトの最適化案

## 5. 今後の展開

### 5.1 分析手法の拡充
- 統計的検定の導入
  * 手法間の有意差検定
  * クラスタ特性との相関分析
- 時系列評価の実装
  * 評価傾向の変化追跡
  * パラメータ調整の効果測定

### 5.2 可視化機能の強化
- 新しい可視化手法の追加
  * 箱ひげ図による詳細比較
  * 相関ヒートマップの実装
  * クラスタ特性との関連図
- インタラクティブ機能
  * 動的なフィルタリング
  * ズームイン・アウト機能

### 5.3 評価システムの発展
- 評価基準の最適化
  * 重み付けの自動調整
  * 新規評価項目の検討
- 効率化と自動化
  * バッチ処理の実装
  * 評価レポートの自動生成
